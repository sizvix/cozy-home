{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/styles/index.styl?8a5e","webpack:///./src/components/Services.jsx","webpack:///./src/components/Failure.jsx","webpack:///./src/components/AccountPicker.jsx","webpack:///./src/components/AddServiceTile.jsx","webpack:///./src/components/Notifier.jsx","webpack:///./src/styles/accountPicker.styl?67c5","webpack:///./src/components/KonnectorTile.jsx","webpack:///./src/components/Loading.jsx","webpack:///./src/ducks/connections/components/queue/styles.styl?23d0","webpack:///./src/assets/images/connected-accounts.svg","webpack:///./src/lib/tutorial.js","webpack:///./src/components/AppTile.jsx","webpack:///./src/targets/browser/index.jsx","webpack:///./src/styles/placeholder.styl?a64f","webpack:///./src/containers/ConnectionManagement.jsx","webpack:///./src/components/Home.jsx","webpack:///./src/components/AccountPickerItem.jsx","webpack:///./src/assets/icons/icon-plus-add-service.svg","webpack:///./src/components/ScrollToTopOnMount.jsx","webpack:///./src/styles/connectionManagement.styl?d486","webpack:///./src/containers/App.jsx","webpack:///./src/components/IntentRedirect.jsx","webpack:///./src/components/LoadingPlaceholder.jsx","webpack:///./src/components/StoreRedirection.jsx","webpack:///./src/components/helpers/fillWithGhostItems.jsx","webpack:///./src/ducks/connections/components/queue/index.jsx","webpack:///./src/assets/icons/broken.svg","webpack:///./src/assets/icons/color/default.svg","webpack:///./src/lib/PiwikHashRouter.js","webpack:///./src/ducks/connections/components/queue/queue.jsx","webpack:///./src/components/Applications.jsx"],"names":["Services","props","t","installedKonnectors","hasConnections","length","classNames","map","konnector","index","slug","fillWithGhostItems","EmptyIcon","Component","mapStateToProps","sortBy","getInstalledKonnectors","state","name","connect","translate","reload","window","location","Failure","errorType","AccountPicker","connections","history","match","konnectorSlug","params","push","backIcon","styles","connection","ownProps","getConnectionsByKonnector","getKonnector","cozy","withRouter","AddServiceTile","redirecting","toggleRedirect","bind","setState","client","intents","redirect","type","console","error","label","addServiceIcon","createStore","notifications","listeners","dispatch","notification","id","forEach","listener","subscribe","store","Notification","close","closeTimer","setTimeout","beginClosing","base","removeEventListener","classList","remove","clearTimeout","addEventListener","add","onClose","message","details","join","Notifier","context","notify","idx","findIndex","n","slice","notif","msg","handleClose","getKonnectorError","getErrorTitle","key","getErrorClass","accountsCount","hide","userError","KonnectorTile","route","features","hideKonnectorErrors","includes","appIconProps","brokenIcon","getFirstError","getFirstUserError","lastSyncDate","getLastSyncDate","getKonnectorTriggersCount","Loading","loadingType","noMargin","isTutorial","pathname","endsWith","display","appsPanel","document","querySelectorAll","servicesPanel","element","Error","trackerInstance","getTracker","shouldTrackTutorial","shouldEnableTracking","pageURLsForTracking","tutorial","introJs","setOptions","overlayOpacity","showBullets","hidePrev","hideNext","exitOnEsc","exitOnOverlayClick","disableInteraction","doneLabel","nextLabel","steps","intro","tooltipClass","position","onafterchange","stepIndex","_options","i","l","targetElement","trackingURL","doneButton","className","oncomplete","click","hash","start","clickZone","clickAction","e","target","tagName","stopPropagation","nextStep","elem","onclick","AppTile","app","displayName","name_prefix","links","related","lang","documentElement","getAttribute","handleOAuthResponse","queryParams","URLSearchParams","search","get","opener","accountKey","OAuthStateKey","targetOrigin","origin","protocol","hostname","port","postMessage","root","querySelector","data","dataset","CozyClient","cozyURL","cozyDomain","token","cozyToken","cozyClient","MostRecentCozyClient","uri","bar","init","appEditor","cozyAppEditor","appName","cozyAppName","iconPath","cozyIconPath","cozyLocale","replaceTitleOnMobile","configureStore","collectConfig","dictRequire","require","App","default","render","ConnectionManagement","endCreation","isCreating","isSuccess","existingAccount","createdAccount","account","values","Object","assign","auth","folderPath","substring","lastIndexOf","namePath","fields","advancedFields","isClosing","fetchUrls","warn","startCreation","gotoParent","UNSAFE_componentWillReceiveProps","nextProps","isInvalidKonnectorSlug","isInvalidAccountId","accountId","backRoute","editing","onEnd","alertDeleteSuccess","messages","handleConnectionSuccess","info","item","router","originPath","resolvedOriginPath","keys","filter","param","sort","a","b","reduce","path","replace","url","mapActionsToProps","mapDocumentsToProps","getAccount","getCreatedConnectionAccount","trigger","getTriggerByKonnectorAndAccount","maintenance","getKonnectorsInMaintenance","isCreatingConnection","isRunning","isConnectionRunning","lastSuccess","getTriggerLastSuccess","mapDispatchToProps","startConnectionCreation","endConnectionCreation","cozyConnect","Home","launchTutorial","pushState","displayTutorial","wrapper","AccountPickerItem","hasError","isConnected","accountName","getAccountName","accountLogin","getAccountLogin","nameAndLoginDiffer","_id","ScrollToTopOnMount","scrollTo","IDLE","FETCHING_CONTEXT","status","fetchContext","attributes","fetchJSON","catch","accounts","konnectors","triggers","isFetching","find","collection","fetchStatus","isFetchingContext","isReady","contentWrapper","div","IntentRedirect","StoreRedirection","childContextTypes","PropTypes","array","appEntryPoint","queryString","query","split","accumulator","keyValue","splitted","LoadingPlaceholder","category","options","elements","num","queue","getConnectionsQueue","visible","purgeQueue","Queue","addPiwik","connectToHistory","track","PiwikHashRouter","HashRouter","Pending","Item","progress","updatedStatus","clearInterval","myInterval","progressBar","elapsedTime","setInterval","Math","atan","PI","width","collapsed","doneCount","successCount","toggleCollapsed","done","total","LoadingAppTiles","tiles","Applications","ignoredAppSlugs","all"],"mappings":";AAAA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAQ,oBAAoB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,yBAAiB,4BAA4B;AAC7C;AACA;AACA,0BAAkB,2BAA2B;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAgB,uBAAuB;AACvC;;;AAGA;AACA;AACA;AACA;;;;;;;;ACtJA;AACA,kBAAkB,sB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACDlB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;;IAEMA,Q;;;;;;;;;;;;;6BACK;AAAA,wBAC4B,KAAKC,KADjC;AAAA,UACCC,CADD,eACCA,CADD;AAAA,UACIC,mBADJ,eACIA,mBADJ;AAEP,UAAMC,iBAAiB,CAAC,CAACD,oBAAoBE,MAA7C;AACA,aACE;AACE,mBAAWC,iDAAUA,CAAC,uBAAX,EAAoC;AAC7C,0CAAgC,CAACF;AADY,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","file":"home.app.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([1,\"vendors\",\"app~intents\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spin\":\"spin--2iFLV\"};","import React, { Component } from 'react'\n\nimport classNames from 'classnames'\nimport EmptyIcon from '../assets/images/connected-accounts.svg'\nimport fillWithGhostItems from './helpers/fillWithGhostItems'\nimport { connect } from 'react-redux'\nimport { NavLink } from 'react-router-dom'\nimport { getInstalledKonnectors } from '../reducers'\nimport { translate } from 'cozy-ui/react/I18n'\nimport sortBy from 'lodash/sortBy'\n\nimport KonnectorTile from './KonnectorTile'\nimport AddServiceTile from './AddServiceTile'\n\nclass Services extends Component {\n  render() {\n    const { t, installedKonnectors } = this.props\n    const hasConnections = !!installedKonnectors.length\n    return (\n      <div\n        className={classNames('services-list-wrapper', {\n          'services-list-wrapper--empty': !hasConnections\n        })}\n      >\n        {hasConnections ? (\n          <div className=\"list connector-list\" data-tutorial=\"home-services\">\n            {installedKonnectors.map((konnector, index) => (\n              <KonnectorTile\n                key={index}\n                konnector={konnector}\n                route={`connected/${konnector.slug}`}\n              />\n            ))}\n            {<AddServiceTile label={t('add_service')} />}\n            {fillWithGhostItems(6)}\n          </div>\n        ) : (\n          <div className=\"connector-list col-empty-list\">\n            <div className=\"col-empty-list--img\">\n              <img\n                src={EmptyIcon}\n                data-tutorial=\"home-services\"\n                alt={t('connector.empty')}\n              />\n            </div>\n            <div className=\"col-empty-list--text\">\n              <h2>{t('connector.no-connectors-connected')}</h2>\n              <p>{t('connector.get-info')}</p>\n              <NavLink to=\"/providers/all\" className=\"col-button\">\n                <span>{t('connector.connect-account')}</span>\n              </NavLink>\n            </div>\n          </div>\n        )}\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    installedKonnectors: sortBy(\n      getInstalledKonnectors(state),\n      konnector => konnector.name\n    )\n  }\n}\n\nexport default connect(mapStateToProps)(translate()(Services))\n","import React from 'react'\nimport { translate } from 'cozy-ui/react/I18n'\nimport Button from 'cozy-ui/react/Button'\nimport Empty from 'cozy-ui/react/Empty'\nimport EmptyIcon from '../assets/icons/color/default.svg'\n\nconst reload = () => {\n  window.location.reload()\n}\n\nexport const Failure = ({ t, errorType }) => (\n  <Empty title={t(`error.${errorType}`)} icon={EmptyIcon}>\n    <Button label={t('error.button.reload')} onClick={reload} />\n  </Empty>\n)\n\nexport default translate()(Failure)\n","import styles from '../styles/accountPicker'\nimport classNames from 'classnames'\n\nimport React from 'react'\nimport { connect } from 'react-redux'\nimport { translate } from 'cozy-ui/react/I18n'\n\nimport { getConnectionsByKonnector } from '../reducers'\nimport { getKonnector } from '../ducks/konnectors'\n\nimport Icon from 'cozy-ui/react/Icon'\nimport Modal, { ModalHeader, ModalContent } from 'cozy-ui/react/Modal'\nimport { NavLink, Redirect, withRouter } from 'react-router-dom'\n\nimport AccountPickerItem from './AccountPickerItem'\nimport KonnectorHeaderIcon from './KonnectorHeaderIcon'\n\nimport backIcon from '../assets/sprites/icon-arrow-left.svg'\n\nexport const AccountPicker = ({\n  t,\n  connections,\n  history,\n  konnector,\n  match\n}) => {\n  const { konnectorSlug } = match.params\n  if (!connections.length)\n    return <Redirect to={`/connected/${konnector.slug}/new`} />\n  return (\n    <Modal dismissAction={() => history.push('/connected')} mobileFullscreen>\n      <ModalHeader>\n        <div className=\"col-account-connection-header\">\n          <NavLink to=\"/connected\" className=\"col-account-connection-back\">\n            <Icon icon={backIcon} />\n          </NavLink>\n          <KonnectorHeaderIcon konnector={konnector} />\n        </div>\n      </ModalHeader>\n      <ModalContent>\n        <ul className={styles[classNames('col-account-picker')]}>\n          {connections.map((connection, index) => (\n            <li key={index}>\n              <AccountPickerItem\n                konnectorSlug={konnectorSlug}\n                connection={connection}\n              />\n            </li>\n          ))}\n          <li>\n            <NavLink\n              to={`/connected/${konnectorSlug}/new`}\n              className={classNames(\n                styles['col-account-picker-button'],\n                styles['col-account-picker-button-add']\n              )}\n            >\n              <span>\n                <Icon icon=\"plus\" />\n                <span>{t('account_picker.add_account_button.label')}</span>\n              </span>\n            </NavLink>\n          </li>\n        </ul>\n      </ModalContent>\n    </Modal>\n  )\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  const { konnectorSlug } = ownProps.match.params\n  return {\n    connections: getConnectionsByKonnector(state, konnectorSlug),\n    konnector: getKonnector(state.cozy, konnectorSlug)\n  }\n}\n\nexport default connect(mapStateToProps)(translate()(withRouter(AccountPicker)))\n","/* global cozy */\nimport React, { Component } from 'react'\nimport Icon from 'cozy-ui/react/Icon'\n\nimport addServiceIcon from '../assets/icons/icon-plus-add-service.svg'\n\nexport class AddServiceTile extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      redirecting: false\n    }\n\n    this.toggleRedirect = this.toggleRedirect.bind(this)\n  }\n\n  async toggleRedirect() {\n    if (this.state.redirecting) return // don't toggle twice\n    this.setState(() => ({ redirecting: true }))\n    try {\n      await cozy.client.intents.redirect('io.cozy.apps', { type: 'konnector' })\n    } catch (error) {\n      // eslint-disable-next-line no-console\n      console.error(error)\n      this.setState({\n        redirecting: false\n      })\n    }\n  }\n\n  render() {\n    const { label } = this.props\n    const { redirecting } = this.state\n    return (\n      <div\n        aria-busy={redirecting}\n        className=\"item-wrapper --add-service\"\n        onClick={this.toggleRedirect}\n      >\n        {redirecting ? (\n          <Icon icon=\"spinner\" className=\"item-icon\" color=\"grey\" spin />\n        ) : (\n          <div className=\"item-icon\">\n            <Icon icon={addServiceIcon} />\n          </div>\n        )}\n        <span className=\"item-title\">{label}</span>\n      </div>\n    )\n  }\n}\n\nexport default AddServiceTile\n","import React, { Component } from 'react'\n\nconst createStore = () => {\n  let notifications = []\n  let listeners = []\n\n  const dispatch = notification => {\n    notification.id = notifications.length\n    notifications.push(notification)\n    listeners.forEach(listener => listener(notification))\n  }\n\n  const subscribe = listener => {\n    listeners.push(listener)\n  }\n\n  return { dispatch, subscribe }\n}\n\nconst store = createStore()\n\nclass Notification extends Component {\n  componentDidMount() {\n    this.close = this.close.bind(this)\n    this.closeTimer = setTimeout(() => {\n      this.beginClosing()\n    }, 2000)\n  }\n\n  componentWillUnmount() {\n    this.base.removeEventListener('transitionend', this.close, false)\n    this.base.classList.remove('coz-notification--closing')\n    if (this.closeTimer) {\n      clearTimeout(this.closeTimer)\n    }\n  }\n\n  beginClosing() {\n    this.base.addEventListener('transitionend', this.close, false)\n    this.base.classList.add('coz-notification--closing')\n  }\n\n  close() {\n    this.props.onClose()\n  }\n\n  render() {\n    const { message, details, type } = this.props\n    return (\n      <div\n        className={['coz-notification', 'coz-notification--' + type].join(' ')}\n      >\n        <div className=\"coz-notification-title\">{message}</div>\n        <div className=\"coz-notification-details\">{details}</div>\n      </div>\n    )\n  }\n}\n\nexport default class Notifier extends Component {\n  constructor(props, context) {\n    super(props, context)\n    this.state = {\n      notifications: []\n    }\n  }\n\n  static info(msg, details) {\n    store.dispatch({ type: 'info', msg, details })\n  }\n\n  static warning(msg) {\n    store.dispatch({ type: 'warning', msg })\n  }\n\n  static error(msg) {\n    store.dispatch({ type: 'error', msg })\n  }\n\n  componentDidMount() {\n    store.subscribe(this.notify.bind(this))\n  }\n\n  notify(notification) {\n    this.setState({\n      notifications: [...this.state.notifications, notification]\n    })\n  }\n\n  handleClose(id) {\n    let idx = this.state.notifications.findIndex(n => n.id === id)\n    this.setState({\n      notifications: [\n        ...this.state.notifications.slice(0, idx),\n        ...this.state.notifications.slice(idx + 1)\n      ]\n    })\n  }\n\n  render() {\n    return (\n      <div className=\"coz-notifier\">\n        {this.state.notifications.map((notif, index) => (\n          <Notification\n            key={index}\n            type={notif.type}\n            message={notif.msg}\n            details={notif.details}\n            onClose={() => this.handleClose(notif.id)}\n          />\n        ))}\n      </div>\n    )\n  }\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"col-account-picker-button\":\"col-account-picker-button--ybID4\",\"spin\":\"spin--Ip5NT\",\"u-visuallyhidden\":\"u-visuallyhidden--3j3b-\",\"u-hide\":\"u-hide--3LpV3\",\"u-hide--mob\":\"u-hide--mob--SiTiX\",\"u-hide--tablet\":\"u-hide--tablet--1yMOp\",\"u-hide--desk\":\"u-hide--desk--8f5Pj\",\"u-error\":\"u-error--38aWA\",\"u-error--warning\":\"u-error--warning--jzl_A\",\"u-valid\":\"u-valid--3QN49\",\"u-warn\":\"u-warn--2jhVk\",\"u-black\":\"u-black--3MYsQ\",\"u-white\":\"u-white--tsP8v\",\"u-paleGrey\":\"u-paleGrey--1PGUH\",\"u-silver\":\"u-silver--bakfl\",\"u-coolGrey\":\"u-coolGrey--3LwQh\",\"u-slateGrey\":\"u-slateGrey--2wCEx\",\"u-charcoalGrey\":\"u-charcoalGrey--pErDv\",\"u-overlay\":\"u-overlay--3-O5R\",\"u-zircon\":\"u-zircon--P8V-b\",\"u-frenchPass\":\"u-frenchPass--1LaRU\",\"u-dodgerBlue\":\"u-dodgerBlue--22y6-\",\"u-scienceBlue\":\"u-scienceBlue--kYUJu\",\"u-puertoRico\":\"u-puertoRico--3s_5h\",\"u-emerald\":\"u-emerald--3rJ-4\",\"u-malachite\":\"u-malachite--gM1zx\",\"u-texasRose\":\"u-texasRose--3TW3K\",\"u-chablis\":\"u-chablis--2z0dY\",\"u-yourPink\":\"u-yourPink--25Npi\",\"u-pomegranate\":\"u-pomegranate--3fhpL\",\"u-monza\":\"u-monza--3jPCO\",\"u-portage\":\"u-portage--3-tMx\",\"u-azure\":\"u-azure--34TS2\",\"u-melon\":\"u-melon--NYrUk\",\"u-blazeOrange\":\"u-blazeOrange--1CdME\",\"u-mango\":\"u-mango--36-ts\",\"u-pumpkinOrange\":\"u-pumpkinOrange--2yprU\",\"u-darkPeriwinkle\":\"u-darkPeriwinkle--2G_Qk\",\"u-purpley\":\"u-purpley--7j64C\",\"u-lightishPurple\":\"u-lightishPurple--3we8f\",\"u-barney\":\"u-barney--2Yak1\",\"u-weirdGreen\":\"u-weirdGreen--33SZV\",\"u-ellipsis\":\"u-ellipsis--1JFZi\",\"u-midellipsis\":\"u-midellipsis--2uYVA\",\"col-account-picker-header-image\":\"col-account-picker-header-image--3QwvT\",\"col-account-picker\":\"col-account-picker--1LNiV\",\"col-account-picker-button-account\":\"col-account-picker-button-account--EE-0p\",\"col-account-picker-button-infos\":\"col-account-picker-button-infos--1dKhM\",\"col-account-picker-button-error\":\"col-account-picker-button-error--3QnvX\",\"col-account-picker-button-add\":\"col-account-picker-button-add--S2dkR\"};","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { translate } from 'cozy-ui/react/I18n'\nimport classNames from 'classnames'\n\nimport AppIcon from 'cozy-ui/react/AppIcon'\nimport Icon from 'cozy-ui/react/Icon'\nimport { NavLink, withRouter } from 'react-router-dom'\n\nimport { appIconProps } from '../lib/icons'\nimport { getErrorTitle } from '../lib/konnectors'\nimport {\n  getFirstError,\n  getFirstUserError,\n  getLastSyncDate\n} from '../ducks/connections'\nimport { getKonnectorTriggersCount } from '../reducers'\n\nimport brokenIcon from '../assets/icons/broken.svg'\n\nconst getKonnectorError = ({ error, t }) => {\n  return error\n    ? getErrorTitle(t, error, key => `connection.error.${key}.title`)\n    : null\n}\n\nconst getErrorClass = ({ accountsCount, error, hide, userError }) => {\n  if (hide) return ''\n\n  // userError must be checked first as it is also an error.\n  if (userError) {\n    return 'konnector-error konnector-error--connection'\n  }\n\n  if (error) {\n    return 'konnector-error konnector-error--blocked'\n  }\n\n  if (!accountsCount) {\n    return 'konnector-error konnector-error--no-accounts'\n  }\n\n  return null\n}\n\nclass KonnectorTile extends Component {\n  render() {\n    const { accountsCount, error, userError, konnector, route, t } = this.props\n    const { features } = this.context\n    const hideKonnectorErrors =\n      features && features.includes('hide_konnector_errors')\n    return (\n      <NavLink\n        className=\"item-wrapper\"\n        to={route}\n        title={getKonnectorError({ error, t })}\n      >\n        <div\n          className={classNames(\n            'item-icon',\n            getErrorClass({\n              accountsCount,\n              error,\n              hide: hideKonnectorErrors,\n              userError\n            })\n          )}\n        >\n          <AppIcon\n            alt={t('app.logo.alt', { name: konnector.name })}\n            app={konnector}\n            {...appIconProps}\n          />\n          <Icon icon={brokenIcon} className=\"konnector-state\" />\n        </div>\n        <h3 className=\"item-title\">{konnector.name}</h3>\n      </NavLink>\n    )\n  }\n}\n\nconst mapStateToProps = (state, props) => {\n  const { konnector } = props\n  return {\n    // /!\\ error can also be a userError.\n    error: getFirstError(state.connections, konnector.slug),\n    userError: getFirstUserError(state.connections, konnector.slug),\n    lastSyncDate: getLastSyncDate(state.connections, konnector.slug),\n    accountsCount: getKonnectorTriggersCount(state, konnector)\n  }\n}\n\nexport default translate()(connect(mapStateToProps)(withRouter(KonnectorTile)))\n","import React from 'react'\nimport { translate } from 'cozy-ui/react/I18n'\n\nexport const Loading = ({ t, loadingType, noMargin }) => {\n  return (\n    <div className={noMargin ? 'coz-loading--no-margin' : 'coz-loading'}>\n      {loadingType && <p>{t(`loading.${loadingType}`)}</p>}\n    </div>\n  )\n}\n\nexport default translate()(Loading)\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"queue-item\":\"queue-item--2nmo3\",\"item-ongoing\":\"item-ongoing--2I0wt\",\"item-canceled\":\"item-canceled--66_hi\",\"item-error\":\"item-error--2_nJo\",\"item-conflict\":\"item-conflict--3fN_6\",\"item-done\":\"item-done--3Ytt9\",\"spin\":\"spin--2Rrql\",\"queue\":\"queue--E5doD\",\"queue--visible\":\"queue--visible--3kodM\",\"queue-header\":\"queue-header--1xuYz\",\"queue-header-inner\":\"queue-header-inner--2hQ34\",\"btn-close\":\"btn-close--1_NjM\",\"queue-progress\":\"queue-progress--3kjuG\",\"queue-content\":\"queue-content--3aNvV\",\"queue--collapsed\":\"queue--collapsed--aksIJ\",\"queue-list\":\"queue-list--3gpgx\",\"queue-item--error\":\"queue-item--error--11w-V\",\"queue-item--done\":\"queue-item--done--fE0KV\",\"queue-item-progress-bar\":\"queue-item-progress-bar--2-yvo\",\"item-label\":\"item-label--1Q26g\",\"item-ext\":\"item-ext--3RUut\",\"item-status\":\"item-status--qmrpq\",\"item-icon\":\"item-icon--2Q7Zb\",\"item-icon-img\":\"item-icon-img--7qiT6\",\"item-pending\":\"item-pending--1lCQW\"};","module.exports = \"/img/connected-accounts.svg\";","import { introJs } from 'intro.js-fix-cozy'\nimport { shouldEnableTracking, getTracker } from 'cozy-ui/react/helpers/tracker'\n\nexport function isTutorial() {\n  return window.location.pathname.endsWith('/intro')\n}\n\nexport function display(t) {\n  const appsPanel = document.querySelectorAll('[data-tutorial=home-apps]')[0]\n  const servicesPanel = document.querySelectorAll(\n    '[data-tutorial=home-services]'\n  )[0]\n\n  for (const element in [appsPanel, servicesPanel]) {\n    if (!element) throw new Error('Missing tutorial element.')\n  }\n\n  const trackerInstance = getTracker()\n  const shouldTrackTutorial = shouldEnableTracking() && trackerInstance\n  const pageURLsForTracking = [\n    'tutorial/automate',\n    'tutorial/apps',\n    'tutorial/complete'\n  ]\n  const tutorial = introJs()\n  tutorial\n    .setOptions({\n      overlayOpacity: 0.75,\n      showBullets: false,\n      hidePrev: true,\n      hideNext: true,\n      exitOnEsc: false,\n      exitOnOverlayClick: false,\n      disableInteraction: true,\n      doneLabel: `${t('tutorial.home.services.button')}`,\n      nextLabel: `${t('tutorial.home.apps.button')}`,\n      steps: [\n        {\n          element: appsPanel,\n          intro: `<h1>${t('tutorial.home.apps.title')}</h1><div>${t(\n            'tutorial.home.apps.text'\n          )}</div>`,\n          tooltipClass: 'tooltipApps',\n          position: 'bottom'\n        },\n        {\n          element: servicesPanel,\n          intro: `<h1>${t('tutorial.home.services.title')}</h1><div>${t(\n            'tutorial.home.services.text'\n          )}</div>`,\n          position: 'bottom'\n        }\n      ]\n    })\n    .onafterchange(targetElement => {\n      if (shouldTrackTutorial) {\n        let stepIndex\n        let steps = tutorial._options.steps\n        for (let i = 0, l = steps.length; i < l; ++i) {\n          if (steps[i].element === targetElement) {\n            stepIndex = i\n            break\n          }\n        }\n\n        const trackingURL = pageURLsForTracking[stepIndex]\n        trackerInstance.push(['setCustomUrl', trackingURL])\n        trackerInstance.push(['trackPageView'])\n      }\n\n      // The intro.js button for the last step is hidden, so we need to show it when we arrive on it\n      const doneButton = document.querySelectorAll('.introjs-donebutton')[0]\n      if (!doneButton) return // step 1, no done button yet\n\n      if (targetElement.className === servicesPanel.className) {\n        doneButton.classList.remove('introjs-skipbutton')\n      } else {\n        doneButton.classList.add('introjs-skipbutton')\n      }\n    })\n    .oncomplete(() => {\n      if (shouldTrackTutorial) {\n        trackerInstance.push([\n          'setCustomUrl',\n          pageURLsForTracking[pageURLsForTracking.length - 1]\n        ])\n        trackerInstance.push(['trackPageView'])\n      }\n\n      // When a click occurs on the last tutorial button, it seems that there\n      // is some kind of conflict or event capture that block the click() call\n      // on cozyBarMenuButton. So we must delay a little bit this call. It is\n      // really dirty and hackish and we should instead call directly a method\n      // on the Cozy-Bar to show the app panel.\n      setTimeout(() => servicesPanel.click(), 10)\n      window.location.hash = '#/connected'\n    })\n    .start()\n  const clickZone =\n    '.introjs-disableInteraction, .introjs-overlay, .introjs-tooltiptext, .introjs-tooltipbuttons'\n  const clickAction = e => {\n    if (e.target.tagName !== 'A') {\n      e.stopPropagation()\n      tutorial.nextStep()\n    }\n  }\n  for (const elem of document.querySelectorAll(clickZone)) {\n    elem.onclick = clickAction\n  }\n}\n","import React, { Component } from 'react'\n\nimport { translate } from 'cozy-ui/react/I18n'\nimport AppIcon from 'cozy-ui/react/AppIcon'\nimport { appIconProps } from 'lib/icons'\n\nexport class AppTile extends Component {\n  render() {\n    const { app, t } = this.props\n    const displayName = app.name_prefix\n      ? `${app.name_prefix} ${app.name}`\n      : app.name\n    return (\n      <a className=\"item-wrapper\" href={app.links && app.links.related}>\n        <div className=\"item-icon\">\n          <AppIcon\n            alt={t('app.logo.alt', { name: displayName })}\n            app={app}\n            {...appIconProps}\n          />\n        </div>\n        <h3 className=\"item-title\">{displayName}</h3>\n      </a>\n    )\n  }\n}\n\nexport default translate()(AppTile)\n","/* global cozy */\nimport 'url-search-params-polyfill'\nimport React from 'react'\nimport { render } from 'react-dom'\nimport { CozyClient, CozyProvider } from 'redux-cozy-client'\nimport MostRecentCozyClient, {\n  CozyProvider as MostRecentCozyClientProvider\n} from 'cozy-client'\n\nimport I18n from 'cozy-ui/react/I18n'\nimport PiwikHashRouter from 'lib/PiwikHashRouter'\n\nimport collectConfig from 'config/collect'\nimport configureStore from 'store/configureStore'\n\nimport 'intro.js-fix-cozy/minified/introjs.min.css'\nimport 'styles/index.styl'\n\nconst lang = document.documentElement.getAttribute('lang') || 'en'\nconst context = window.context || 'cozy'\n\nconst handleOAuthResponse = () => {\n  /* global URLSearchParams */\n  const queryParams = new URLSearchParams(window.location.search)\n  if (queryParams.get('account')) {\n    const opener = window.opener\n    const accountKey = queryParams.get('account')\n    const OAuthStateKey = queryParams.get('state')\n    const targetOrigin =\n      window.location.origin ||\n      `${window.location.protocol}//${window.location.hostname}${\n        window.location.port ? ':' + window.location.port : ''\n      }`\n    opener.postMessage(\n      {\n        key: accountKey,\n        OAuthStateKey\n      },\n      targetOrigin\n    )\n    window.close()\n  }\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  handleOAuthResponse()\n\n  const root = document.querySelector('[role=application]')\n  const data = root.dataset\n\n  const client = new CozyClient({\n    cozyURL: `//${data.cozyDomain}`,\n    token: data.cozyToken\n  })\n\n  // New improvements must be done with CozyClient\n  const cozyClient = new MostRecentCozyClient({\n    uri: `//${data.cozyDomain}`,\n    token: data.cozyToken\n  })\n\n  cozy.bar.init({\n    appEditor: data.cozyAppEditor,\n    appName: data.cozyAppName,\n    iconPath: data.cozyIconPath,\n    lang: data.cozyLocale,\n    replaceTitleOnMobile: false\n  })\n\n  // store\n  const store = configureStore(client, context, {\n    lang,\n    ...collectConfig\n  })\n\n  const dictRequire = lang => require(`locales/${lang}`)\n  const App = require('containers/App').default\n\n  render(\n    <MostRecentCozyClientProvider client={cozyClient}>\n      <CozyProvider store={store} client={cozyClient}>\n        <I18n lang={lang} dictRequire={dictRequire} context={context}>\n          <PiwikHashRouter>\n            <App {...collectConfig} />\n          </PiwikHashRouter>\n        </I18n>\n      </CozyProvider>\n    </MostRecentCozyClientProvider>,\n    document.querySelector('[role=application]')\n  )\n})\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"coz-loading-placeholder\":\"coz-loading-placeholder--iKREi\",\"placeHolderShimmer\":\"placeHolderShimmer--25Y66\"};","import styles from '../styles/connectionManagement.styl'\n\nimport React, { Component } from 'react'\nimport { cozyConnect } from 'redux-cozy-client'\nimport { connect } from 'react-redux'\nimport { NavLink, withRouter } from 'react-router-dom'\n\nimport { getAccount } from '../ducks/accounts'\nimport {\n  endConnectionCreation,\n  getTriggerLastSuccess,\n  isConnectionRunning,\n  isCreatingConnection,\n  startConnectionCreation\n} from '../ducks/connections'\nimport { getKonnector } from '../ducks/konnectors'\nimport {\n  getConnectionsByKonnector,\n  getCreatedConnectionAccount,\n  getTriggerByKonnectorAndAccount,\n  getKonnectorsInMaintenance\n} from '../reducers'\n\nimport Icon from 'cozy-ui/react/Icon'\nimport Modal, { ModalContent, ModalHeader } from 'cozy-ui/react/Modal'\nimport AccountConnection from './AccountConnection'\nimport KonnectorHeaderIcon from '../components/KonnectorHeaderIcon'\nimport Notifier from '../components/Notifier'\n\nimport backIcon from '../assets/sprites/icon-arrow-left.svg'\n\nclass ConnectionManagement extends Component {\n  constructor(props, context) {\n    super(props, context)\n    this.store = this.context.store\n    const { existingAccount, createdAccount, konnector } = props\n\n    const account = existingAccount || createdAccount\n\n    // Set values\n    const values = (account && Object.assign({}, account.auth)) || {}\n    // Split the actual folderPath account to get namePath & folderPath values\n    if (account && values.folderPath) {\n      values.folderPath = account.auth.folderPath.substring(\n        0,\n        account.auth.folderPath.lastIndexOf('/')\n      )\n      values.namePath = account.auth.namePath\n    } else if (\n      (!account &&\n        konnector &&\n        konnector.fields &&\n        konnector.fields.advancedFields &&\n        konnector.fields.advancedFields.folderPath) ||\n      (!account && konnector && konnector.fields && konnector.folderPath)\n    ) {\n      values.folderPath = this.context.t('account.config.default_folder', {\n        name: konnector.name\n      })\n    }\n\n    this.state = {\n      isClosing: false,\n      isSuccess: false,\n      values: values\n    }\n    if (konnector) {\n      this.store.fetchUrls()\n\n      if (!this.props.existingAccount) {\n        if (this.props.isCreating) {\n          // eslint-disable-next-line no-console\n          console.warn(\n            'Unexpected state: connection creation already in progress'\n          )\n        } else {\n          this.props.startCreation()\n        }\n      }\n    } else {\n      return this.gotoParent()\n    }\n  }\n\n  componentWillReceiveProps(props) {\n    this.UNSAFE_componentWillReceiveProps(props)\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    const isInvalidKonnectorSlug =\n      nextProps.match &&\n      nextProps.match.params.konnectorSlug &&\n      !nextProps.konnector\n\n    if (isInvalidKonnectorSlug) {\n      // eslint-disable-next-line no-console\n      console.warn('Invalid konnector slug')\n      return this.gotoParent()\n    }\n\n    const isInvalidAccountId =\n      nextProps.match &&\n      nextProps.match.params.accountId &&\n      !nextProps.existingAccount\n    if (isInvalidAccountId) {\n      // eslint-disable-next-line no-console\n      console.warn('Invalid account id')\n      return this.gotoParent()\n    }\n  }\n\n  render() {\n    const {\n      connections,\n      createdAccount,\n      existingAccount,\n      konnector\n    } = this.props\n    // Do not even render if there is no konnector (in case of wrong URL)\n    if (!konnector) return\n\n    const { isClosing, values, isSuccess } = this.state\n\n    const backRoute = connections.length\n      ? `/connected/${konnector.slug}`\n      : '/connected'\n\n    const editing = existingAccount && !createdAccount\n\n    return (\n      <Modal\n        dismissAction={() => this.gotoParent()}\n        mobileFullscreen\n        size=\"large\"\n        className={styles['col-account-modal']}\n      >\n        <ModalHeader\n          className={isSuccess ? styles['col-account-success-header'] : ''}\n        >\n          {!isSuccess && (\n            <div className=\"col-account-connection-header\">\n              {backRoute && (\n                <NavLink\n                  to={backRoute}\n                  className=\"col-account-connection-back\"\n                  onClick={this.onEnd}\n                >\n                  <Icon icon={backIcon} />\n                </NavLink>\n              )}\n              <KonnectorHeaderIcon konnector={konnector} center={!editing} />\n            </div>\n          )}\n        </ModalHeader>\n        <ModalContent>\n          <AccountConnection\n            alertDeleteSuccess={messages => this.alertDeleteSuccess(messages)}\n            displayAccountsCount\n            editing={editing}\n            onDone={() => this.gotoParent()}\n            onCancel={() => this.gotoParent()}\n            isUnloading={isClosing}\n            values={values}\n            closeModal={() => this.gotoParent()}\n            isClosing={isClosing}\n            handleConnectionSuccess={this.handleConnectionSuccess}\n            {...this.props}\n            {...this.context}\n          />\n        </ModalContent>\n      </Modal>\n    )\n  }\n\n  alertDeleteSuccess(messages) {\n    const { t } = this.context\n\n    Notifier.info([\n      messages\n        .map(item => {\n          return t(item.message, item.params)\n        })\n        .join('.\\n')\n    ])\n\n    this.gotoParent()\n  }\n\n  onEnd = () => {\n    const { endCreation, isCreating } = this.props\n    if (isCreating) {\n      typeof endCreation === 'function' && endCreation()\n    }\n  }\n\n  handleConnectionSuccess = () => {\n    this.setState({ isSuccess: true })\n  }\n\n  gotoParent() {\n    this.setState({ isClosing: true, isSuccess: false })\n\n    // The setTimeout allows React to perform setState related actions\n    setTimeout(() => {\n      const { router } = this.context\n      const { originPath } = this.props\n\n      if (originPath) {\n        const params = this.props.match.params\n        const resolvedOriginPath = Object.keys(params)\n          .filter(param => typeof params[param] === 'string')\n          // Sort params from longest string to shortest string to avoid\n          // unexpected replacements like :test in :test2.\n          .sort(\n            (a, b) => (a.length === b.length ? 0 : a.length > b.length ? -1 : 1)\n          )\n          .reduce(\n            (path, param) => path.replace(`:${param}`, params[param]),\n            originPath\n          )\n        router.history.push(resolvedOriginPath)\n      } else {\n        let url = router.history.location.pathname\n        router.history.push(url.substring(0, url.lastIndexOf('/')))\n      }\n\n      if (this.props.isCreating) {\n        this.props.endCreation()\n      }\n    }, 0)\n  }\n}\n\nconst mapActionsToProps = () => ({})\n\n// Accder au state depuis ici ?\nconst mapDocumentsToProps = () => ({\n  // konnector: fetchRegistryKonnectorBySlug(ownProps.params.connectorSlug)\n  // existingAccount: fetchAccount(ownProps.accountId)\n})\n\nconst mapStateToProps = (state, ownProps) => {\n  // infos from route parameters\n  const { accountId, konnectorSlug } = ownProps.match && ownProps.match.params\n  const konnector = getKonnector(state.cozy, konnectorSlug)\n  const existingAccount = getAccount(state.cozy, accountId)\n  const createdAccount = getCreatedConnectionAccount(state)\n  const trigger = getTriggerByKonnectorAndAccount(\n    state,\n    konnector,\n    existingAccount || createdAccount\n  )\n  const maintenance = getKonnectorsInMaintenance()\n  return {\n    connections: getConnectionsByKonnector(state, konnectorSlug),\n    createdAccount,\n    existingAccount,\n    isCreating: isCreatingConnection(state.connections),\n    konnector: konnector,\n    isRunning: isConnectionRunning(state.connections, trigger),\n    lastSuccess: getTriggerLastSuccess(state.cozy, trigger),\n    trigger,\n    maintenance: maintenance\n  }\n}\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n  startCreation: () => dispatch(startConnectionCreation(ownProps.konnector)),\n  endCreation: () => dispatch(endConnectionCreation())\n})\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(\n  cozyConnect(mapDocumentsToProps, mapActionsToProps)(\n    withRouter(ConnectionManagement)\n  )\n)\n","import React, { Component } from 'react'\n\nimport { Route, Switch, withRouter, Redirect } from 'react-router-dom'\nimport classNames from 'classnames'\nimport { Main, Content } from 'cozy-ui/react/Layout'\nimport { isTutorial, display as displayTutorial } from '../lib/tutorial'\n\nimport Applications from './Applications'\nimport ConnectionManagement from '../containers/ConnectionManagement'\nimport ScrollToTopOnMount from './ScrollToTopOnMount'\nimport AccountPicker from './AccountPicker'\nimport Services from './Services'\nimport { translate } from 'cozy-ui/react/I18n'\n\nclass Home extends Component {\n  componentDidMount() {\n    this.launchTutorial()\n  }\n\n  componentWillReceiveProps(props) {\n    this.UNSAFE_componentWillReceiveProps(props)\n  }\n\n  UNSAFE_componentWillReceiveProps() {\n    this.launchTutorial()\n  }\n\n  launchTutorial() {\n    if (isTutorial()) {\n      window.history.pushState({}, '', `/${window.location.hash}`)\n      setTimeout(() => {\n        displayTutorial(this.props.t)\n      }, 1000)\n    }\n  }\n\n  render() {\n    const { wrapper } = this.props\n    return (\n      <Main>\n        <ScrollToTopOnMount target={wrapper} />\n        <Content>\n          <div\n            className={classNames('col-content', {\n              'has-custom-background': false\n            })}\n          >\n            <Applications />\n            <Services />\n          </div>\n        </Content>\n        <Switch>\n          <Route\n            exact\n            path=\"/connected/:konnectorSlug\"\n            component={AccountPicker}\n          />\n          <Route\n            path=\"/connected/:konnectorSlug/new\"\n            render={props => (\n              <ConnectionManagement originPath=\"/connected\" {...props} />\n            )}\n          />\n          <Route\n            path=\"/connected/:konnectorSlug/accounts/:accountId\"\n            render={props => (\n              <ConnectionManagement originPath=\"/connected\" {...props} />\n            )}\n          />\n          <Redirect from=\"/connected/*\" to=\"/connected\" />\n        </Switch>\n      </Main>\n    )\n  }\n}\n\nexport default withRouter(translate()(Home))\n","import styles from '../styles/accountPicker'\nimport classNames from 'classnames'\n\nimport React from 'react'\nimport { connect } from 'react-redux'\nimport { translate } from 'cozy-ui/react/I18n'\n\nimport { NavLink } from 'react-router-dom'\nimport Icon from 'cozy-ui/react/Icon'\nimport Spinner from 'cozy-ui/react/Spinner'\n\nimport { getAccount } from '../ducks/accounts'\nimport { getAccountLogin, getAccountName } from '../lib/helpers'\nimport { getErrorTitle } from '../lib/konnectors'\n\nexport const AccountPickerItem = ({\n  t,\n  connection,\n  konnectorSlug,\n  account\n}) => {\n  const { error, hasError, isRunning, isConnected } = connection\n  const accountName = getAccountName(account)\n  const accountLogin = getAccountLogin(account)\n  const nameAndLoginDiffer = accountName !== accountLogin\n  return (\n    <NavLink\n      to={`/connected/${konnectorSlug}/accounts/${account._id}`}\n      className={classNames(\n        styles['col-account-picker-button'],\n        styles['col-account-picker-button-account']\n      )}\n    >\n      <div className={styles['col-account-picker-button-infos']}>\n        <span>{accountName}</span>\n        {nameAndLoginDiffer && <small>{accountLogin}</small>}\n      </div>\n      {hasError && (\n        <div className={styles['col-account-picker-button-error']}>\n          <span>\n            {getErrorTitle(t, error, key => `connection.error.${key}.title`)}\n          </span>\n          <Icon icon=\"warning\" />\n        </div>\n      )}\n      {isConnected && <Icon icon=\"check-circleless\" color=\"#2BBA40\" />}\n      {isRunning && <Spinner />}\n    </NavLink>\n  )\n}\n\nconst mapStateToProps = (state, ownProps) => ({\n  account: getAccount(\n    state.cozy,\n    ownProps.connection && ownProps.connection.account\n  )\n})\n\nexport default connect(mapStateToProps)(translate()(AccountPickerItem))\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-plus-add-service_68a756d0bf7531bb9a93fac1220bef28\",\n  \"use\": \"icon-plus-add-service_68a756d0bf7531bb9a93fac1220bef28-usage\",\n  \"viewBox\": \"0 0 56 56\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" viewBox=\\\"0 0 56 56\\\" id=\\\"icon-plus-add-service_68a756d0bf7531bb9a93fac1220bef28\\\">\\n<style type=\\\"text/css\\\">\\n\\t#icon-plus-add-service_68a756d0bf7531bb9a93fac1220bef28 .st0{fill:none;stroke:#000000;stroke-width:5;stroke-linecap:round;stroke-miterlimit:10;stroke-dasharray:9.7713,9.7713;}\\n</style>\\n<title>Group</title>\\n<desc>Created with Sketch.</desc>\\n<g id=\\\"icon-plus-add-service_68a756d0bf7531bb9a93fac1220bef28_icons_x2F_32_x2F_icon-plus\\\" transform=\\\"translate(14.000000, 14.000000)\\\">\\n\\t<g id=\\\"icon-plus-add-service_68a756d0bf7531bb9a93fac1220bef28_Mask\\\">\\n\\t\\t<path id=\\\"icon-plus-add-service_68a756d0bf7531bb9a93fac1220bef28_path-3_1_\\\" d=\\\"M12.3,1.7c0,0-0.1-1.7,1.7-1.7s1.8,1.7,1.8,1.7v10.5h10.5c0,0,1.8,0,1.8,1.8s-1.8,1.8-1.8,1.8H15.7v10.5\\n\\t\\t\\tc0,0,0,1.8-1.8,1.8s-1.8-1.8-1.8-1.8V15.8H1.8c0,0-1.8,0-1.8-1.8s1.8-1.7,1.8-1.7h10.5V1.7L12.3,1.7z\\\" />\\n\\t</g>\\n</g>\\n<path d=\\\"M23.5,55.8c-0.1,0-0.2,0-0.2,0c-3.2-0.6-6.3-1.7-9.1-3.3c-0.3-0.2-0.5-0.5-0.6-0.8c-0.1-0.3,0-0.7,0.1-1\\n\\tc0.2-0.4,0.7-0.7,1.2-0.7c0.2,0,0.5,0.1,0.7,0.2c2.6,1.5,5.4,2.5,8.3,3c0.7,0.1,1.2,0.8,1.1,1.6C24.7,55.3,24.1,55.8,23.5,55.8z\\n\\t M32.7,55.8c-0.7,0-1.2-0.5-1.3-1.1c-0.1-0.7,0.4-1.4,1.1-1.6c2.9-0.5,5.7-1.5,8.2-3c0.2-0.1,0.4-0.2,0.7-0.2c0.5,0,0.9,0.3,1.2,0.7\\n\\tc0.2,0.3,0.2,0.7,0.1,1c-0.1,0.3-0.3,0.6-0.6,0.8c-2.8,1.6-5.9,2.8-9.1,3.4C32.9,55.8,32.8,55.8,32.7,55.8z M7.6,46.7\\n\\tc-0.4,0-0.8-0.2-1-0.5c-2.1-2.5-3.8-5.3-4.9-8.4c-0.1-0.3-0.1-0.7,0-1c0.1-0.3,0.4-0.6,0.8-0.7c0.2-0.1,0.3-0.1,0.5-0.1\\n\\tc0.6,0,1.1,0.4,1.3,0.9c1,2.8,2.5,5.3,4.4,7.6c0.2,0.3,0.3,0.6,0.3,1s-0.2,0.7-0.5,0.9C8.3,46.6,8,46.7,7.6,46.7z M48.5,46.6\\n\\tc-0.2,0-0.6-0.1-0.9-0.3c-0.3-0.2-0.4-0.6-0.5-0.9c0-0.4,0.1-0.7,0.3-1c1.9-2.3,3.4-4.8,4.4-7.6c0.2-0.5,0.7-0.9,1.3-0.9\\n\\tc0.2,0,0.3,0,0.5,0.1c0.3,0.1,0.6,0.4,0.8,0.7c0.2,0.3,0.2,0.7,0,1c-1.1,3.1-2.7,5.9-4.8,8.4C49.2,46.4,48.9,46.6,48.5,46.6z\\n\\t M1.3,29.6C0.6,29.6,0,29,0,28.3v-0.1c0-3.3,0.6-6.5,1.7-9.6c0.2-0.5,0.7-0.9,1.3-0.9c0.2,0,0.3,0,0.5,0.1c0.7,0.3,1.1,1,0.8,1.7\\n\\tc-1,2.8-1.5,5.7-1.5,8.7v0.1C2.7,29,2.1,29.6,1.3,29.6z M54.7,29.5c-0.7,0-1.3-0.6-1.3-1.3c0-3-0.5-5.9-1.5-8.7\\n\\tc-0.1-0.3-0.1-0.7,0-1c0.2-0.3,0.4-0.6,0.8-0.7c0.1-0.1,0.3-0.1,0.5-0.1c0.6,0,1.1,0.4,1.3,0.9c1.1,3.1,1.7,6.3,1.7,9.6\\n\\tC56,28.9,55.4,29.5,54.7,29.5L54.7,29.5z M7.6,12.4c-0.2,0-0.6-0.1-0.9-0.3c-0.6-0.5-0.6-1.3-0.2-1.9c2.1-2.5,4.6-4.6,7.4-6.3\\n\\tc0.2-0.1,0.4-0.2,0.7-0.2c0.5,0,0.9,0.3,1.2,0.7c0.4,0.6,0.2,1.5-0.5,1.8c-2.6,1.5-4.8,3.4-6.7,5.7C8.3,12.2,8,12.4,7.6,12.4z\\n\\t M48.4,12.4c-0.4,0-0.8-0.2-1-0.5c-1.9-2.3-4.2-4.2-6.7-5.6c-0.3-0.2-0.5-0.5-0.6-0.8c-0.1-0.3,0-0.7,0.1-1c0.2-0.4,0.7-0.7,1.2-0.7\\n\\tc0.2,0,0.5,0.1,0.7,0.2c2.8,1.6,5.3,3.7,7.5,6.2c0.5,0.6,0.4,1.4-0.2,1.9C49,12.3,48.7,12.4,48.4,12.4z M23.3,3.3\\n\\tc-0.7,0-1.2-0.5-1.3-1.1c-0.1-0.4,0-0.7,0.2-1c0.2-0.3,0.5-0.5,0.9-0.6c1.6-0.3,3.2-0.4,4.9-0.4c1.6,0,3.3,0.1,4.8,0.4\\n\\tc0.4,0.1,0.7,0.3,0.9,0.5s0.3,0.6,0.2,1c-0.1,0.6-0.7,1.1-1.3,1.1c-0.1,0-0.2,0-0.2,0C30.9,3,29.5,2.9,28,2.9c-1.5,0-3,0.1-4.4,0.4\\n\\tC23.5,3.3,23.4,3.3,23.3,3.3z\\\" />\\n<g>\\n\\t<circle class=\\\"st0\\\" cx=\\\"157.7\\\" cy=\\\"33.5\\\" r=\\\"28\\\" />\\n</g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import { Component } from 'react'\n\n// a component to automatically reset the scroll\n// on mount (see https://reacttraining.com/react-router/web/guides/scroll-restoration/scroll-to-top)\nexport class ScrollToTopOnMount extends Component {\n  componentDidMount() {\n    const target = this.props && this.props.target\n    target && typeof target.scrollTo === 'function' && target.scrollTo(0, 0)\n  }\n\n  render() {\n    return null\n  }\n}\n\nexport default ScrollToTopOnMount\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"installing-spinner\":\"installing-spinner--3DCw7\",\"spin\":\"spin--1KhGc\",\"installing\":\"installing--1Gu5-\",\"col-account-success-header\":\"col-account-success-header--1U_I1\"};","/* global cozy */\nimport React, { Component } from 'react'\nimport PropTypes from 'react-proptypes'\nimport { Route, Switch, Redirect, withRouter } from 'react-router-dom'\n\nimport appEntryPoint from '../components/appEntryPoint'\n\nimport Notifier from '../components/Notifier'\n\nimport Loading from '../components/Loading'\nimport Failure from '../components/Failure'\nimport ConnectionsQueue from '../ducks/connections/components/queue/index'\n\nimport Home from '../components/Home'\nimport IntentRedirect from '../components/IntentRedirect'\nimport StoreRedirection from '../components/StoreRedirection'\n\nimport { Layout, Main, Content } from 'cozy-ui/react/Layout'\n\nconst IDLE = 'idle'\nconst FETCHING_CONTEXT = 'FETCHING_CONTEXT'\n\nclass App extends Component {\n  state = {\n    context: {},\n    error: null,\n    status: IDLE\n  }\n\n  constructor(props, context) {\n    super(props, context)\n    this.store = this.context.store\n    this.fetchContext()\n  }\n\n  getChildContext() {\n    const { context } = this.state\n    return context && context.attributes\n  }\n\n  async fetchContext() {\n    this.setState({\n      status: FETCHING_CONTEXT\n    })\n\n    const context = await cozy.client\n      .fetchJSON('GET', '/settings/context')\n      .catch(error => {\n        this.setState({\n          error,\n          status: IDLE\n        })\n      })\n\n    this.setState({\n      context,\n      status: IDLE\n    })\n  }\n\n  render() {\n    const { accounts, konnectors, triggers } = this.props\n    const isFetching = [accounts, konnectors, triggers].find(collection =>\n      ['pending', 'loading'].includes(collection.fetchStatus)\n    )\n\n    const hasError = [accounts, konnectors, triggers].find(\n      collection => collection.fetchStatus === 'failed'\n    )\n\n    const { status } = this.state\n    const isFetchingContext = status === FETCHING_CONTEXT\n\n    const isReady = !hasError && !isFetching && !isFetchingContext\n\n    return (\n      <Layout\n        monoColumn\n        ref={\n          isReady &&\n          (div => {\n            this.contentWrapper = div\n          })\n        }\n      >\n        <div className=\"ho-background\" />\n        {hasError ||\n          (isFetching && (\n            <Main>\n              <Content\n                className={\n                  hasError ? 'col-initial-error' : 'col-initial-loading'\n                }\n              >\n                {hasError && <Failure errorType=\"initial\" />}\n                {isFetching && <Loading loadingType=\"initial\" />}\n              </Content>\n            </Main>\n          ))}\n        {isReady && (\n          <Switch>\n            <Route path=\"/redirect\" component={IntentRedirect} />\n            <Route\n              path=\"/connected\"\n              render={() => (\n                <Home base=\"/connected\" wrapper={this.contentWrapper} />\n              )}\n            />\n            <Route exact path=\"/providers\" component={StoreRedirection} />\n            <Route path=\"/providers/:category\" component={StoreRedirection} />\n            <Redirect exact from=\"/\" to=\"/connected\" />\n            <Redirect from=\"*\" to=\"/connected\" />\n          </Switch>\n        )}\n        <Notifier />\n        <ConnectionsQueue />\n      </Layout>\n    )\n  }\n}\n\nApp.childContextTypes = {\n  features: PropTypes.array\n}\n\n/*\nwithRouter is necessary here to deal with redux\nhttps://github.com/ReactTraining/react-router/blob/master/packages/react-router/docs/guides/blocked-updates.md\n*/\nexport default withRouter(appEntryPoint(App))\n","/* global cozy */\nimport React from 'react'\nimport { Redirect } from 'react-router-dom'\n\nimport { connect } from 'react-redux'\nimport { getInstalledKonnectors } from '../reducers'\n\nconst IntentRedirect = ({ installedKonnectors, location }) => {\n  const queryString = !!location && location.search\n  const query =\n    queryString &&\n    queryString\n      .substring(1)\n      .split('&')\n      .reduce((accumulator, keyValue) => {\n        const splitted = keyValue.split('=')\n        accumulator[splitted[0]] = splitted[1] || true\n        return accumulator\n      }, {})\n\n  if (query.konnector) {\n    if (\n      installedKonnectors.find(konnector => konnector.slug === query.konnector)\n    ) {\n      return <Redirect to={`/connected/${query.konnector}`} />\n    } else {\n      cozy.client.intents.redirect('io.cozy.apps', { slug: query.konnector })\n    }\n  }\n\n  return <Redirect to={`/connected`} />\n}\n\nconst mapStateToProps = state => ({\n  installedKonnectors: getInstalledKonnectors(state)\n})\n\nexport default connect(mapStateToProps)(IntentRedirect)\n","import React from 'react'\nimport styles from '../styles/placeholder'\n\nexport const LoadingPlaceholder = () => {\n  return <span className={styles['coz-loading-placeholder']} />\n}\n\nexport default LoadingPlaceholder\n","/* global cozy */\n\nimport React, { Component } from 'react'\nimport Spinner from 'cozy-ui/react/Spinner'\n\nexport class StoreRedirection extends Component {\n  constructor(props) {\n    super(props)\n    const category = props.match && props.match.params.category\n    const options = { type: 'konnector' }\n    if (category && category !== 'all') {\n      options.category = props.match.params.category\n    }\n    cozy.client.intents.redirect('io.cozy.apps', options)\n  }\n\n  render() {\n    return <Spinner size=\"xxlarge\" middle />\n  }\n}\n\nexport default StoreRedirection\n","import React from 'react'\n\nconst fillWithGhostItems = num => {\n  const elements = []\n  for (let i = 0; i < num; i++) {\n    elements.push(<div className=\"item-wrapper--ghost\" />)\n  }\n  return elements\n}\n\nexport default fillWithGhostItems\n","import Queue from './queue'\nimport { connect } from 'react-redux'\n\nimport { getConnectionsQueue } from '../../../../reducers'\n\nimport { purgeQueue } from '../../'\n\nconst mapStateToProps = state => {\n  const queue = getConnectionsQueue(state)\n  return {\n    queue: queue,\n    visible: !!queue.length\n  }\n}\nconst mapDispatchToProps = dispatch => ({\n  purgeQueue: () => dispatch(purgeQueue())\n})\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Queue)\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"broken_829dad2f6520184c0e8c56afb73136d1\",\n  \"use\": \"broken_829dad2f6520184c0e8c56afb73136d1-usage\",\n  \"viewBox\": \"0 0 64 19\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" viewBox=\\\"0 0 64 19\\\" id=\\\"broken_829dad2f6520184c0e8c56afb73136d1\\\">\\n<path fill=\\\"currentColor\\\" d=\\\"M45.6,0.5c-0.9-0.6-2.1-0.6-3.1-0.1L21.2,11.9c-0.6,0.3-1.4,0.3-2-0.1L1.6,0.5C1.1,0.2,0.6,0,0,0v6.6l18.4,11.9\\n\\tc0.9,0.6,2.1,0.6,3.1,0.1L42.8,7.1c0.6-0.3,1.4-0.3,2,0.1l17.5,11.4c0.5,0.3,1.1,0.5,1.6,0.5l0,0v-6.6L45.6,0.5z\\\" />\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"default_e8acf04a531f51e2591973ab13ba63d7\",\n  \"use\": \"default_e8acf04a531f51e2591973ab13ba63d7-usage\",\n  \"viewBox\": \"0 0 64 64\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 64 64\\\" id=\\\"default_e8acf04a531f51e2591973ab13ba63d7\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\">\\n    <path fill=\\\"#855CEA\\\" fill-rule=\\\"nonzero\\\" d=\\\"M32,17.3818748 C38.4788008,17.3818748 43.7310547,22.7384047 43.7310547,29.3455954 C43.7310547,35.9527861 38.4788008,41.3093161 32,41.3093161 C25.5211992,41.3093161 20.2689453,35.9527861 20.2689453,29.3455954 C20.2689453,22.7384047 25.5211992,17.3818748 32,17.3818748 Z M32,58.9450016 C24.97375,58.9450016 18.6050907,56.0787139 14,51.4547232 C17.8412687,47.7235961 24.4673594,45.2587711 32,45.2587711 C39.5326406,45.2587711 46.1587313,47.7235961 50,51.4547232 C45.3949093,56.0787139 39.02625,58.9450016 32,58.9450016 Z\\\" />\\n    <g transform=\\\"translate(3)\\\">\\n      <circle cx=\\\"29\\\" cy=\\\"32\\\" r=\\\"27\\\" stroke=\\\"#C2ADF4\\\" stroke-width=\\\"4\\\" />\\n      <circle cx=\\\"29\\\" cy=\\\"6\\\" r=\\\"6\\\" fill=\\\"#C2ADF4\\\" />\\n      <circle cx=\\\"29\\\" cy=\\\"58\\\" r=\\\"6\\\" fill=\\\"#C2ADF4\\\" />\\n      <circle cx=\\\"52\\\" cy=\\\"47\\\" r=\\\"6\\\" fill=\\\"#C2ADF4\\\" />\\n      <circle cx=\\\"6\\\" cy=\\\"47\\\" r=\\\"6\\\" fill=\\\"#C2ADF4\\\" />\\n      <circle cx=\\\"52\\\" cy=\\\"18\\\" r=\\\"6\\\" fill=\\\"#C2ADF4\\\" />\\n      <circle cx=\\\"6\\\" cy=\\\"18\\\" r=\\\"6\\\" fill=\\\"#C2ADF4\\\" />\\n    </g>\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import { HashRouter } from 'react-router-dom'\nimport { shouldEnableTracking, getTracker } from 'cozy-ui/react/helpers/tracker'\n\nconst addPiwik = function(history) {\n  if (shouldEnableTracking() && getTracker()) {\n    let trackerInstance = getTracker()\n    history = trackerInstance.connectToHistory(history)\n    // when using a hash history, the initial visit is not tracked by piwik react router\n    trackerInstance.track(history.location)\n  }\n  return history\n}\n\nexport default class PiwikHashRouter extends HashRouter {\n  constructor(props) {\n    super(props)\n    this.history = addPiwik(this.history)\n  }\n}\n","import React, { Component } from 'react'\nimport classNames from 'classnames'\nimport { translate } from 'cozy-ui/react/I18n'\n\nimport AppIcon from 'cozy-ui/react/AppIcon'\nimport { appIconProps } from 'lib/icons'\n\nimport styles from './styles'\n\nconst Pending = translate()(props => (\n  <span className={styles['item-pending']}>\n    {props.t('Queue.item.pending')}\n  </span>\n))\n\nclass Item extends Component {\n  state = {\n    progress: 0\n  }\n  componentDidMount() {\n    let elapsedTime = 0\n    this.myInterval = setInterval(() => {\n      elapsedTime += 10\n      let progress = (Math.atan(elapsedTime / 3e3) / (Math.PI / 2)) * 90\n      this.setState({\n        progress: progress\n      })\n    }, 25)\n  }\n  componentDidUpdate = () => {\n    // If the status of the konnector is not 'ongoing', we remove the progressBar\n    const updatedStatus = this.props.status\n    if (updatedStatus !== 'ongoing') {\n      clearInterval(this.myInterval)\n      this.progressBar.remove()\n    }\n  }\n  render() {\n    const { konnector, label, status, t } = this.props\n    const { progress } = this.state\n    return (\n      <div\n        className={classNames(styles['queue-item'], {\n          [styles['queue-item--done']]: status === 'done',\n          [styles['queue-item--error']]: status === 'error'\n        })}\n      >\n        <div className={classNames(styles['item-icon'])}>\n          <AppIcon\n            alt={t('app.logo.alt', { name: konnector.name })}\n            className=\"c-\"\n            app={konnector}\n            {...appIconProps}\n          />\n        </div>\n        <div className={classNames(styles['item-label'])}>{label}</div>\n        <div className={styles['item-status']}>\n          {status === 'pending' ? (\n            <Pending />\n          ) : (\n            <div className={styles[`item-${status}`]} />\n          )}\n        </div>\n        <div\n          role=\"progressbar\"\n          aria-valuenow={progress}\n          aria-valuemin=\"0\"\n          aria-valuemax=\"100\"\n          className={classNames(styles['queue-item-progress-bar'])}\n          style={{ width: `${progress}%` }}\n          ref={progressBar => (this.progressBar = progressBar)}\n        />\n      </div>\n    )\n  }\n}\n\nclass Queue extends Component {\n  state = {\n    collapsed: false\n  }\n\n  toggleCollapsed = () => {\n    this.setState(state => ({ collapsed: !state.collapsed }))\n  }\n\n  render() {\n    const { t, visible = false, queue = [], purgeQueue } = this.props\n    const { collapsed } = this.state\n    const doneCount = queue.filter(\n      connection => connection.status !== 'ongoing'\n    ).length\n    const successCount = queue.filter(\n      connection => connection.status === 'done'\n    ).length\n    return (\n      <div\n        className={classNames(styles['queue'], {\n          [styles['queue--visible']]: visible,\n          [styles['queue--collapsed']]: collapsed\n        })}\n      >\n        <h4\n          className={styles['queue-header']}\n          onDoubleClick={this.toggleCollapsed}\n        >\n          {doneCount < queue.length && (\n            <div className={styles['queue-header-inner']}>\n              <span className=\"coz-desktop\">{t('Queue.header')}</span>\n              <span className=\"coz-mobile\">\n                {t('Queue.header_mobile', {\n                  done: doneCount,\n                  total: queue.length\n                })}\n              </span>\n            </div>\n          )}\n          {doneCount >= queue.length && (\n            <div className={styles['queue-header-inner']}>\n              <span>\n                {t('Queue.header_done', {\n                  done: successCount,\n                  total: queue.length\n                })}\n              </span>\n              <button\n                className={classNames(styles['btn-close'])}\n                onClick={purgeQueue}\n              >\n                {t('Queue.close')}\n              </button>\n            </div>\n          )}\n        </h4>\n        <progress\n          className={styles['queue-progress']}\n          value={doneCount}\n          max={queue.length}\n        />\n        <div className={styles['queue-content']}>\n          <div className={styles['queue-list']}>\n            {queue.map((item, index) => (\n              <Item\n                key={index}\n                konnector={item.konnector}\n                label={item.label}\n                status={item.status}\n                t={t}\n              />\n            ))}\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default translate()(Queue)\n","import React from 'react'\n\nimport AppTile from './AppTile'\nimport LoadingPlaceholder from './LoadingPlaceholder'\nimport fillWithGhostItems from './helpers/fillWithGhostItems'\nimport { Query } from 'cozy-client'\nimport { translate } from 'cozy-ui/react/I18n'\n\nconst LoadingAppTiles = ({ num }) => {\n  const tiles = []\n  for (let i = 0; i < num; i++) {\n    tiles.push(\n      <div className=\"item-wrapper\">\n        <header className=\"item-header\">\n          <div className=\"item-icon\">\n            <LoadingPlaceholder />\n          </div>\n        </header>\n        <h3 className=\"item-title\">\n          <LoadingPlaceholder />\n        </h3>\n      </div>\n    )\n  }\n  return (\n    <div className=\"list app-list\">\n      {tiles}\n      {fillWithGhostItems(6)}\n    </div>\n  )\n}\n\nexport const Applications = () => {\n  const ignoredAppSlugs = ['home', 'onboarding', 'settings']\n  return (\n    <div className=\"app-list-wrapper\">\n      <Query\n        query={client => {\n          return client.all('io.cozy.apps')\n        }}\n      >\n        {({ data, fetchStatus }) => {\n          return fetchStatus !== 'loaded' ? (\n            <LoadingAppTiles num=\"3\" />\n          ) : (\n            <div className=\"list app-list\" data-tutorial=\"home-apps\">\n              {data\n                .filter(\n                  app =>\n                    app.state !== 'hidden' &&\n                    !ignoredAppSlugs.includes(app.slug)\n                )\n                .map((app, index) => (\n                  <AppTile key={index} app={app} />\n                ))}\n              {fillWithGhostItems(6)}\n            </div>\n          )\n        }}\n      </Query>\n    </div>\n  )\n}\n\nexport default translate()(Applications)\n"],"sourceRoot":""}